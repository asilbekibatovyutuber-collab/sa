<!DOCTYPE html>
<html lang="uz">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Maktab Market - Mobile</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }

    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }

    .active-scale:active {
      transform: scale(0.95);
    }

    .modal-enter {
      transform: translateY(100%);
      transition: transform 0.3s ease-out;
    }

    .modal-show {
      transform: translateY(0);
    }

    .fav-active {
      color: #eab308 !important;
      fill: #eab308;
    }
  </style>
</head>

<body class="flex justify-center items-center min-h-screen bg-gray-200 p-4 font-sans text-white">

  <div
    class="w-[375px] h-[812px] border-[8px] border-black rounded-[3rem] shadow-2xl overflow-hidden bg-[#1f2937] relative">

    <div class="absolute top-0 left-1/2 -translate-x-1/2 w-32 h-6 bg-black rounded-b-2xl z-50"></div>

    <div id="loginModal" class="absolute inset-0 bg-black/95 z-[100] flex items-center justify-center p-6 hidden">
      <div class="bg-gray-900 w-full p-6 rounded-3xl border border-white/10 text-center">
        <h3 class="text-xl font-bold mb-4 text-yellow-500 lang-welcome">Xush kelibsiz!</h3>
        <p class="text-gray-400 text-sm mb-4 lang-register_form">Davom etish uchun ismingiz va raqamingizni kiriting</p>
        <input type="text" id="userName" placeholder="Ismingiz"
          class="w-full bg-gray-800 p-3 rounded-xl mb-3 outline-none border border-white/10 focus:border-yellow-500 text-white">
        <input type="tel" id="userPhone" placeholder="+998"
          class="w-full bg-gray-800 p-3 rounded-xl mb-6 outline-none border border-white/10 focus:border-yellow-500 text-white">
        <button onclick="saveUser()"
          class="w-full bg-yellow-500 text-black py-3 rounded-xl font-bold active-scale lang-enter">Kirish</button>
      </div>
    </div>

    <div id="detailModal" class="absolute inset-0 bg-black/90 z-[60] hidden flex items-end justify-center">
      <div class="bg-gray-900 w-full h-[70%] rounded-t-[2rem] p-6 modal-enter border-t border-white/10"
        id="detailContent">
        <div class="w-12 h-1.5 bg-gray-600 rounded-full mx-auto mb-6"
          onclick="closeModal('detailModal', 'detailContent')"></div>
        <img id="detailImg" class="w-full h-48 object-cover rounded-2xl mb-4">
        <h3 id="detailName" class="text-2xl font-bold mb-2"></h3>
        <p id="detailPrice" class="text-yellow-500 font-bold text-xl mb-4"></p>
        <p id="detailDesc" class="text-gray-400 text-sm leading-relaxed mb-6">
          Ushbu mahsulot yuqori sifatli materiallardan tayyorlangan bo'lib, o'quvchilar uchun juda qulay va chidamlidir.
        </p>
        <button id="detailAddToCart"
          class="w-full bg-yellow-500 text-black py-4 rounded-2xl font-bold active-scale lang-toCart">Savatga
          qo'shish</button>
      </div>
    </div>

    <div id="cartModal" class="absolute inset-0 bg-black/95 z-40 hidden flex items-end justify-center">
      <div class="bg-gray-900 w-full h-[85%] rounded-t-[2rem] p-6 modal-enter border-t border-white/10 overflow-y-auto"
        id="cartContent">
        <div class="w-12 h-1.5 bg-gray-600 rounded-full mx-auto mb-6" onclick="closeModal('cartModal', 'cartContent')">
        </div>
        <h3 class="text-2xl font-bold mb-6 flex items-center gap-2">
          <span class="lang-cartTitle">Savat</span>
        </h3>
        <div id="cartList" class="space-y-4"></div>
        <div id="cartTotal" class="mt-6 pt-4 border-t border-white/10 text-xl font-bold text-right hidden">
          <span class="lang-total">Jami</span>: <span class="text-yellow-500" id="totalPrice">0</span> so'm
        </div>
        <button id="cartActionButton" onclick="handleCartAction()"
          class="w-full bg-yellow-500 text-black py-4 rounded-2xl mt-8 font-bold active-scale lang-order">
          Buyurtma berish
        </button>
      </div>
    </div>

    <div id="favModal" class="absolute inset-0 bg-black/90 z-40 hidden flex items-end justify-center">
      <div class="bg-gray-900 w-full h-[85%] rounded-t-[2rem] p-6 modal-enter border-t border-white/10 overflow-y-auto"
        id="favContent">
        <div class="w-12 h-1.5 bg-gray-600 rounded-full mx-auto mb-6" onclick="closeModal('favModal', 'favContent')">
        </div>
        <h3 class="text-2xl font-bold mb-6 lang-favorites">Sevimlilar</h3>
        <div id="favList" class="space-y-4"></div>
      </div>
    </div>

    <div class="p-4 pt-10 h-full overflow-y-auto no-scrollbar" id="mainContentScroll">
      <div class="flex items-center justify-between mb-5">
        <h2 class="text-2xl font-bold tracking-tight" id="mainLogo">Maktab Market</h2>
        <div id="navArea" class="flex items-center">
          <button id="userNavBtn" onclick="handleAuthClick()"
            class="flex items-center gap-2 text-gray-300 hover:text-yellow-400">
            <span id="navUserLabel">Kirish</span>
            <svg class="w-4 h-4 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
            </svg>
          </button>
        </div>
      </div>

      <div class="flex items-center gap-2 mb-6">
        <button class="bg-yellow-500 text-black h-10 px-4 rounded-xl font-bold text-sm lang-katalog">Katalog</button>
        <input id="searchInput" type="text" placeholder="Qidirish..."
          class="flex-1 h-10 px-4 rounded-xl text-gray-800 text-sm outline-none">
      </div>

      <div
        class="flex items-center gap-4 text-[13px] font-medium overflow-x-auto whitespace-nowrap no-scrollbar mb-6 pb-2 border-b border-white/10 text-gray-300">
        <span class="cursor-pointer hover:text-yellow-400 lang-orders">Buyurtmalar</span>
        <span onclick="openModal('favModal', 'favContent')"
          class="cursor-pointer hover:text-yellow-400 flex items-center gap-1">
          <span class="lang-favorites">Sevimlilar</span> <span id="favCount"
            class="bg-yellow-500 text-black text-[10px] px-1.5 rounded-full hidden">0</span>
        </span>
        <span onclick="openModal('cartModal', 'cartContent')"
          class="cursor-pointer hover:text-yellow-400 flex items-center gap-1">
          <span class="lang-cartTitle">Savat</span> <span id="cartCount"
            class="bg-yellow-500 text-black text-[10px] px-1.5 rounded-full hidden">0</span>
        </span>
        <div class="flex gap-2 ml-auto">
          <button id="langBtnUz" onclick="setLanguage('uz')" class="px-3 py-1 bg-yellow-500 text-black rounded-lg text-[12px] font-bold active-scale">O'z üá∫üáø</button>
          <button id="langBtnRu" onclick="setLanguage('ru')" class="px-3 py-1 bg-white/10 text-white rounded-lg text-[12px] font-bold active-scale hover:bg-yellow-500 hover:text-black">–†—É üá∑üá∫</button>
        </div>
      </div>

      <div class="flex gap-2 mb-6 overflow-x-auto no-scrollbar">
        <button class="category px-4 py-1.5 bg-yellow-500 text-black font-bold rounded-full text-[12px]"
          data-category="all">Hammasi</button>
        <button class="category px-4 py-1.5 bg-white/10 rounded-full text-[12px]"
          data-category="Kiyimlar">Kiyimlar</button>
        <button class="category px-4 py-1.5 bg-white/10 rounded-full text-[12px]"
          data-category="Elektronika">Elektronika</button>
      </div>

      <div class="grid grid-cols-2 gap-3 mb-10" id="productGrid">
        <div class="product flex flex-col bg-gray-800/50 border border-white/5 p-2 rounded-2xl relative" data-id="1"
          data-category="Kiyimlar" data-price="120000">
          <button onclick="toggleFav(1)"
            class="absolute top-4 right-4 z-10 p-1.5 bg-black/40 backdrop-blur-md rounded-full">
            <svg id="fav-icon-1" class="h-4 w-4 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-width="2"
                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
            </svg>
          </button>
          <img class="w-full h-32 rounded-xl object-cover" src="./img/image copy.png">
          <p class="product-name mt-2 px-1 text-[13px] font-medium truncate">Sumka plansheti, Erkaklar elkama-sumkasi,
            sport sumkasi, maktab, sayohat sumkasi</p>
          <p class="px-1 text-yellow-500 font-bold text-sm">165‚ÄÜ000
            ‚ÄÜso ªm
          </p>
          <div class="mt-3 space-y-1.5">
            <button onclick="addToCart(1)"
              class="w-full bg-white text-black py-2 rounded-lg text-[11px] font-bold active-scale lang-toCart">Savatga</button>
            <button onclick="showDetails(1)"
              class="w-full bg-gray-700 text-white py-2 rounded-lg text-[11px] font-bold active-scale lang-details">Batafsil</button>
          </div>
        </div>

        <div class="product flex flex-col bg-gray-800/50 border border-white/5 p-2 rounded-2xl relative" data-id="2"
          data-category="Elektronika" data-price="45000">
          <button onclick="toggleFav(2)"
            class="absolute top-4 right-4 z-10 p-1.5 bg-black/40 backdrop-blur-md rounded-full">
            <svg id="fav-icon-2" class="h-4 w-4 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-width="2"
                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
            </svg>
          </button>
          <img class="w-full h-32 rounded-xl object-cover" src="./img/./image copy 2.png">
          <p class="product-name mt-2 px-1 text-[13px] font-medium truncate">Qora/qizil qalamlar to‚Äòplami 6 dona
            o‚Äòchirgichsiz Neon</p>
          <p class="px-1 text-yellow-500 font-bold text-sm">120,000
            ‚ÄÜso ªm</p>
          <div class="mt-3 space-y-1.5">
            <button onclick="addToCart(2)"
              class="w-full bg-white text-black py-2 rounded-lg text-[11px] font-bold active-scale lang-toCart">Savatga</button>
            <button onclick="showDetails(2)"
              class="w-full bg-gray-700 text-white py-2 rounded-lg text-[11px] font-bold active-scale lang-details">Batafsil</button>
          </div>
        </div>
        <div class="product flex flex-col bg-gray-800/50 border border-white/5 p-2 rounded-2xl relative" data-id="2"
          data-category="Elektronika" data-price="45000">
          <button onclick="toggleFav(2)"
            class="absolute top-4 right-4 z-10 p-1.5 bg-black/40 backdrop-blur-md rounded-full">
            <svg id="fav-icon-2" class="h-4 w-4 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-width="2"
                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
            </svg>
          </button>
          <img class="w-full h-32 rounded-xl object-cover" src="./img/image copy 3.png">
          <p class="product-name mt-2 px-1 text-[13px] font-medium truncate">AMG
            Monet Deluxe o'chirgichli grafit qalamlari to'plami, 12 dona</p>
          <p class="px-1 text-yellow-500 font-bold text-sm">23,000
            ‚ÄÜso ªm
            ‚ÄÇ</p>
          <div class="mt-3 space-y-1.5">
            <button onclick="addToCart(2)"
              class="w-full bg-white text-black py-2 rounded-lg text-[11px] font-bold active-scale lang-toCart">Savatga</button>
            <button onclick="showDetails(2)"
              class="w-full bg-gray-700 text-white py-2 rounded-lg text-[11px] font-bold active-scale lang-details">Batafsil</button>
          </div>
        </div>
        <div class="product flex flex-col bg-gray-800/50 border border-white/5 p-2 rounded-2xl relative" data-id="2"
          data-category="Elektronika" data-price="45000">
          <button onclick="toggleFav(2)"
            class="absolute top-4 right-4 z-10 p-1.5 bg-black/40 backdrop-blur-md rounded-full">
            <svg id="fav-icon-2" class="h-4 w-4 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-width="2"
                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
            </svg>
          </button>
          <img class="w-full h-32 rounded-xl object-cover" src="./img/1.png">
          <p class="product-name mt-2 px-1 text-[13px] font-medium truncate"> Rangli qalamlar, 12 dona, o'ramda, chizish
            uchun moyli qalamlar</p>
          <p class="px-1 text-yellow-500 font-bold text-sm">22,000 so'm</p>
          <div class="mt-3 space-y-1.5">
            <button onclick="addToCart(2)"
              class="w-full bg-white text-black py-2 rounded-lg text-[11px] font-bold active-scale lang-toCart">Savatga</button>
            <button onclick="showDetails(2)"
              class="w-full bg-gray-700 text-white py-2 rounded-lg text-[11px] font-bold active-scale lang-details">Batafsil</button>
          </div>
        </div>
        <div class="product flex flex-col bg-gray-800/50 border border-white/5 p-2 rounded-2xl relative" data-id="2"
          data-category="Elektronika" data-price="45000">
          <button onclick="toggleFav(2)"
            class="absolute top-4 right-4 z-10 p-1.5 bg-black/40 backdrop-blur-md rounded-full">
            <svg id="fav-icon-2" class="h-4 w-4 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-width="2"
                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
            </svg>
          </button>
          <img class="w-full h-32 rounded-xl object-cover" src="./img/2.png">
          <p class="product-name mt-2 px-1 text-[13px] font-medium truncate">Rangli qalamlar to'plami tanadagi guruchdan
            tozalash 12 dona</p>
          <p class="px-1 text-yellow-500 font-bold text-sm">30,000 so'm</p>
          <div class="mt-3 space-y-1.5">
            <button onclick="addToCart(2)"
              class="w-full bg-white text-black py-2 rounded-lg text-[11px] font-bold active-scale lang-toCart">Savatga</button>
            <button onclick="showDetails(2)"
              class="w-full bg-gray-700 text-white py-2 rounded-lg text-[11px] font-bold active-scale lang-details">Batafsil</button>
          </div>
        </div>
        <div class="product flex flex-col bg-gray-800/50 border border-white/5 p-2 rounded-2xl relative" data-id="2"
          data-category="Elektronika" data-price="45000">
          <button onclick="toggleFav(2)"
            class="absolute top-4 right-4 z-10 p-1.5 bg-black/40 backdrop-blur-md rounded-full">
            <svg id="fav-icon-2" class="h-4 w-4 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-width="2"
                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
            </svg>
          </button>
          <img class="w-full h-32 rounded-xl object-cover" src="./img/3.png">
          <p class="product-name mt-2 px-1 text-[13px] font-medium truncate">Qalamlar to'plami</p>
          <p class="px-1 text-yellow-500 font-bold text-sm">40,000 so'm</p>
          <div class="mt-3 space-y-1.5">
            <button onclick="addToCart(2)"
              class="w-full bg-white text-black py-2 rounded-lg text-[11px] font-bold active-scale lang-toCart">Savatga</button>
            <button onclick="showDetails(2)"
              class="w-full bg-gray-700 text-white py-2 rounded-lg text-[11px] font-bold active-scale lang-details">Batafsil</button>
          </div>
        </div>
        <div class="product flex flex-col bg-gray-800/50 border border-white/5 p-2 rounded-2xl relative" data-id="2"
          data-category="Elektronika" data-price="45000">
          <button onclick="toggleFav(2)"
            class="absolute top-4 right-4 z-10 p-1.5 bg-black/40 backdrop-blur-md rounded-full">
            <svg id="fav-icon-2" class="h-4 w-4 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-width="2"
                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
            </svg>
          </button>
          <img class="w-full h-32 rounded-xl object-cover" src="./img/S1.png">
          <p class="product-name mt-2 px-1 text-[13px] font-medium truncate">Ryukzak noutbuk uchun, sayohat, maktab, ish
            uchun, USB portli va suv o'tkazmaydigan, sport uchun</p>
          <p class="px-1 text-yellow-500 font-bold text-sm">180,000 so'm</p>
          <div class="mt-3 space-y-1.5">
            <button onclick="addToCart(2)"
              class="w-full bg-white text-black py-2 rounded-lg text-[11px] font-bold active-scale lang-toCart">Savatga</button>
            <button onclick="showDetails(2)"
              class="w-full bg-gray-700 text-white py-2 rounded-lg text-[11px] font-bold active-scale lang-details">Batafsil</button>
          </div>
        </div>
        <div class="product flex flex-col bg-gray-800/50 border border-white/5 p-2 rounded-2xl relative" data-id="2"
          data-category="Elektronika" data-price="45000">
          <button onclick="toggleFav(2)"
            class="absolute top-4 right-4 z-10 p-1.5 bg-black/40 backdrop-blur-md rounded-full">
            <svg id="fav-icon-2" class="h-4 w-4 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-width="2"
                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
            </svg>
          </button>
          <img class="w-full h-32 rounded-xl object-cover" src="./img/s2.png">
          <p class="product-name mt-2 px-1 text-[13px] font-medium truncate">Ayollar sumkasi, Chanel, sumka ayollar
            'uchun , ko'chada va kundalik hayotda tutishga mos</p>
          <p class="px-1 text-yellow-500 font-bold text-sm">205,000 so'm</p>
          <div class="mt-3 space-y-1.5">
            <button onclick="addToCart(2)"
              class="w-full bg-white text-black py-2 rounded-lg text-[11px] font-bold active-scale lang-toCart">Savatga</button>
            <button onclick="showDetails(2)"
              class="w-full bg-gray-700 text-white py-2 rounded-lg text-[11px] font-bold active-scale lang-details">Batafsil</button>
          </div>
        </div>
        <div class="product flex flex-col bg-gray-800/50 border border-white/5 p-2 rounded-2xl relative" data-id="2"
          data-category="Elektronika" data-price="45000">
          <button onclick="toggleFav(2)"
            class="absolute top-4 right-4 z-10 p-1.5 bg-black/40 backdrop-blur-md rounded-full">
            <svg id="fav-icon-2" class="h-4 w-4 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-width="2"
                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
            </svg>
          </button>
          <img class="w-full h-32 rounded-xl object-cover" src="./img/s3.png">
          <p class="product-name mt-2 px-1 text-[13px] font-medium truncate">Ayollar ajoyib sumkasi, sutrang, klassik
            stilda, eko charmdan</p>
          <p class="px-1 text-yellow-500 font-bold text-sm">125,000 so'm</p>
          <div class="mt-3 space-y-1.5">
            <button onclick="addToCart(2)"
              class="w-full bg-white text-black py-2 rounded-lg text-[11px] font-bold active-scale lang-toCart">Savatga</button>
            <button onclick="showDetails(2)"
              class="w-full bg-gray-700 text-white py-2 rounded-lg text-[11px] font-bold active-scale lang-details">Batafsil</button>
          </div>
        </div>
        <div class="product flex flex-col bg-gray-800/50 border border-white/5 p-2 rounded-2xl relative" data-id="2"
          data-category="Elektronika" data-price="45000">
          <button onclick="toggleFav(2)"
            class="absolute top-4 right-4 z-10 p-1.5 bg-black/40 backdrop-blur-md rounded-full">
            <svg id="fav-icon-2" class="h-4 w-4 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-width="2"
                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
            </svg>
          </button>
          <img class="w-full h-32 rounded-xl object-cover" src="./img/s4.png">
          <p class="product-name mt-2 px-1 text-[13px] font-medium truncate">Ayol va erkaklar 2tasi birda sumka -
            ryukzak sport, sayohat, kundalik uchun</p>
          <p class="px-1 text-yellow-500 font-bold text-sm">190,000 so'm</p>
          <div class="mt-3 space-y-1.5">
            <button onclick="addToCart(2)"
              class="w-full bg-white text-black py-2 rounded-lg text-[11px] font-bold active-scale lang-toCart">Savatga</button>
            <button onclick="showDetails(2)"
              class="w-full bg-gray-700 text-white py-2 rounded-lg text-[11px] font-bold active-scale lang-details">Batafsil</button>
          </div>
        </div>

        <!-- Additional products (added) -->
        <div class="product flex flex-col bg-gray-800/50 border border-white/5 p-2 rounded-2xl relative" data-id="3"
          data-category="Aksesuar" data-price="15000">
          <button onclick="toggleFav(3)"
            class="absolute top-4 right-4 z-10 p-1.5 bg-black/40 backdrop-blur-md rounded-full">
            <svg id="fav-icon-3" class="h-4 w-4 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-width="2"
                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
            </svg>
          </button>
          <img class="w-full h-32 rounded-xl object-cover" src="./img/k1.png">
          <p class="product-name mt-2 px-1 text-[13px] font-medium truncate">
            Walter Isaacson ‚Äî ¬´Ilon Mask: daholar, inqilobchi va kelajak yaratuvchisining biografiyasi¬ª</p>
          <p class="px-1 text-yellow-500 font-bold text-sm">83,000 so'm</p>
          <div class="mt-3 space-y-1.5">
            <button onclick="addToCart(3)"
              class="w-full bg-white text-black py-2 rounded-lg text-[11px] font-bold active-scale lang-toCart">Savatga</button>
            <button onclick="showDetails(3)"
              class="w-full bg-gray-700 text-white py-2 rounded-lg text-[11px] font-bold active-scale lang-details">Batafsil</button>
          </div>
        </div>

        <div class="product flex flex-col bg-gray-800/50 border border-white/5 p-2 rounded-2xl relative" data-id="4"
          data-category="Kiyimlar" data-price="80000">
          <button onclick="toggleFav(4)"
            class="absolute top-4 right-4 z-10 p-1.5 bg-black/40 backdrop-blur-md rounded-full">
            <svg id="fav-icon-4" class="h-4 w-4 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-width="2"
                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
            </svg>
          </button>
          <img class="w-full h-32 rounded-xl object-cover" src="./img/k2.png">
          <p class="product-name mt-2 px-1 text-[13px] font-medium truncate">Potpurri kitobi " elon Musk: ochig'ini
            aytganda, 2021 yil, 320 sahifa</p>
          <p class="px-1 text-yellow-500 font-bold text-sm">200,000 so'm</p>
          <div class="mt-3 space-y-1.5">
            <button onclick="addToCart(4)"
              class="w-full bg-white text-black py-2 rounded-lg text-[11px] font-bold active-scale lang-toCart">Savatga</button>
            <button onclick="showDetails(4)"
              class="w-full bg-gray-700 text-white py-2 rounded-lg text-[11px] font-bold active-scale lang-details">Batafsil</button>
          </div>
        </div>

        <div class="product flex flex-col bg-gray-800/50 border border-white/5 p-2 rounded-2xl relative" data-id="5"
          data-category="Elektronika" data-price="95000">
          <button onclick="toggleFav(5)"
            class="absolute top-4 right-4 z-10 p-1.5 bg-black/40 backdrop-blur-md rounded-full">
            <svg id="fav-icon-5" class="h-4 w-4 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-width="2"
                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
            </svg>
          </button>
          <img class="w-full h-32 rounded-xl object-cover" src="./img/k3.png">
          <p class="product-name mt-2 px-1 text-[13px] font-medium truncate">Yuksalish san‚Äôati, Benjamin Franklin ‚Äî
            shaxsiy o‚Äòsish va muvaffaqiyatga erishish haqidagi bugun ham dolzarb asa</p>
          <p class="px-1 text-yellow-500 font-bold text-sm">83,000 so'm</p>
          <div class="mt-3 space-y-1.5">
            <button onclick="addToCart(5)"
              class="w-full bg-white text-black py-2 rounded-lg text-[11px] font-bold active-scale lang-toCart">Savatga</button>
            <button onclick="showDetails(5)"
              class="w-full bg-gray-700 text-white py-2 rounded-lg text-[11px] font-bold active-scale lang-details">Batafsil</button>
          </div>
        </div>

        <div class="product flex flex-col bg-gray-800/50 border border-white/5 p-2 rounded-2xl relative" data-id="6"
          data-category="Aksesuar" data-price="12000">
          <button onclick="toggleFav(6)"
            class="absolute top-4 right-4 z-10 p-1.5 bg-black/40 backdrop-blur-md rounded-full">
            <svg id="fav-icon-6" class="h-4 w-4 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-width="2"
                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
            </svg>
          </button>
          <img class="w-full h-32 rounded-xl object-cover" src="./img/k4.png">
          <p class="product-name mt-2 px-1 text-[13px] font-medium truncate">Bibixonim qissasi ‚Äî tarix, muhabbat va ayol
            taqdirining fojiaviy badiiy talqini</p>
          <p class="px-1 text-yellow-500 font-bold text-sm">92,000 so'm</p>
          <div class="mt-3 space-y-1.5">
            <button onclick="addToCart(6)"
              class="w-full bg-white text-black py-2 rounded-lg text-[11px] font-bold active-scale lang-toCart">Savatga</button>
            <button onclick="showDetails(6)"
              class="w-full bg-gray-700 text-white py-2 rounded-lg text-[11px] font-bold active-scale lang-details">Batafsil</button>
          </div>
        </div>

        <div class="product flex flex-col bg-gray-800/50 border border-white/5 p-2 rounded-2xl relative" data-id="7"
          data-category="Kiyimlar" data-price="60000">
          <button onclick="toggleFav(7)"
            class="absolute top-4 right-4 z-10 p-1.5 bg-black/40 backdrop-blur-md rounded-full">
            <svg id="fav-icon-7" class="h-4 w-4 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-width="2"
                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
            </svg>
          </button>
          <img class="w-full h-32 rounded-xl object-cover" src="./img/k5.png">
          <p class="product-name mt-2 px-1 text-[13px] font-medium truncate">¬´Ibn Sino¬ª: tarixiy roman ‚Äî butun dunyoni
            o ªzgartirgan tabib, faylasuf va mutafakkir hayoti haqida</p>
          <p class="px-1 text-yellow-500 font-bold text-sm">62,000 so'm</p>
          <div class="mt-3 space-y-1.5">
            <button onclick="addToCart(7)"
              class="w-full bg-white text-black py-2 rounded-lg text-[11px] font-bold active-scale lang-toCart">Savatga</button>
            <button onclick="showDetails(7)"
              class="w-full bg-gray-700 text-white py-2 rounded-lg text-[11px] font-bold active-scale lang-details">Batafsil</button>
          </div>
        </div>
        <div class="product flex flex-col bg-gray-800/50 border border-white/5 p-2 rounded-2xl relative" data-id="7"
          data-category="Kiyimlar" data-price="60000">
          <button onclick="toggleFav(7)"
            class="absolute top-4 right-4 z-10 p-1.5 bg-black/40 backdrop-blur-md rounded-full">
            <svg id="fav-icon-7" class="h-4 w-4 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-width="2"
                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
            </svg>
          </button>
          <img class="w-full h-32 rounded-xl object-cover" src="./img/k6.png">
          <p class="product-name mt-2 px-1 text-[13px] font-medium truncate">Super xotira. Andrey Safronov</p>
          <p class="px-1 text-yellow-500 font-bold text-sm">86,000 so'm</p>
          <div class="mt-3 space-y-1.5">
            <button onclick="addToCart(7)"
              class="w-full bg-white text-black py-2 rounded-lg text-[11px] font-bold active-scale lang-toCart">Savatga</button>
            <button onclick="showDetails(7)"
              class="w-full bg-gray-700 text-white py-2 rounded-lg text-[11px] font-bold active-scale lang-details">Batafsil</button>
          </div>
        </div>
      </div>

      
      <div class="bg-black/20 p-6 rounded-[2.5rem] -mx-4 text-center border-t border-white/5 pb-10">
        <div
          class="w-12 h-12 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4 border border-white/10">
          <span class="text-blue-400">üõ°Ô∏è</span>
        </div>
        <h4 class="text-base font-bold text-white mb-1">Maktab Market v2.0</h4>
        <p class="text-[11px] text-gray-500 mb-6 uppercase tracking-wider">Barcha huquqlar himoyalangan</p>
        <div class="space-y-3 text-left max-w-[240px] mx-auto pt-4 border-t border-white/5">
          <p class="text-[13px] text-gray-300 flex items-center gap-3">üë©‚Äçüíª Yaratuvchi: <span
              class="text-white font-medium">Ibatov Nazarboy</span></p>
          <p class="text-[13px] text-gray-300 flex items-center gap-3">üìû Bog'lanish: <span
              class="text-white font-medium">+998 50 200 15 12</span></p>
          <p class="text-[13px] text-gray-300 flex items-center gap-3">üìç Manzil: <span
              class="text-white font-medium">Toshkent shahar</span></p>
        </div>
      </div>

    </div>
  </div>

  <script>
    const TELEGRAM_TOKEN = "8137282183:AAEldZgm7SGWp4fGDDejZBJZ_hFidtmueVo";
    const CHAT_ID = "7050310480";

    let favorites = [];
    let cart = [];
    let currentLang = 'uz';
    let isOrderStep = false;
    let currentUser = JSON.parse(localStorage.getItem('m_user')) || null;

    const translations = {
      uz: {
        logo: "Maktab Market", katalog: "Katalog", search: "Qidirish...", orders: "Buyurtmalar",
        favorites: "Sevimlilar", cartTitle: "Savat", toCart: "Savatga", details: "Batafsil",
        total: "Jami", order: "Buyurtma berish", register: "Rasmiylashtirish",
        all: "Hammasi", added: "qo'shildi!", success: "Buyurtma yuborildi!", login: "Kirish",
        welcome: "Xush kelibsiz!", register_form: "Davom etish uchun ismingiz va raqamingizni kiriting",
        name: "Ismingiz", phone: "+998", enter: "Kirish"
      },
      ru: {
        logo: "–®–∫–æ–ª—å–Ω—ã–π –ú–∞—Ä–∫–µ—Ç", katalog: "–ö–∞—Ç–∞–ª–æ–≥", search: "–ü–æ–∏—Å–∫...", orders: "–ó–∞–∫–∞–∑—ã",
        favorites: "–ò–∑–±—Ä–∞–Ω–Ω–æ–µ", cartTitle: "–ö–æ—Ä–∑–∏–Ω–∞", toCart: "–í –∫–æ—Ä–∑–∏–Ω—É", details: "–ü–æ–¥—Ä–æ–±–Ω–µ–µ",
        total: "–ò—Ç–æ–≥–æ", order: "–ó–∞–∫–∞–∑–∞—Ç—å", register: "–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑",
        all: "–í—Å–µ", added: "–¥–æ–±–∞–≤–ª–µ–Ω–æ!", success: "–ó–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω!", login: "–í—Ö–æ–¥",
        welcome: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!", register_form: "–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è –∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è",
        name: "–í–∞—à–µ –∏–º—è", phone: "+7", enter: "–í—Ö–æ–¥"
      }
    };

    async function sendToBot(text) {
      const url = `https://api.telegram.org/bot${TELEGRAM_TOKEN}/sendMessage`;
      try {
        await fetch(url, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ chat_id: CHAT_ID, text: text, parse_mode: "Markdown" })
        });
      } catch (e) { console.error("Xatolik:", e); }
    }

    // FIKRNI TELEGRAMGA YUBORISH
    async function sendFeedback() {
      const feedback = document.getElementById('userFeedback').value.trim();
      if (!feedback) return alert("Iltimos, fikringizni yozing!");
      if (!currentUser) return document.getElementById('loginModal').classList.remove('hidden');

      const msg = `üí¨ **YANGI FIKR**\n\nüë§ **Kimdan:** ${currentUser.name}\nüìû **Tel:** ${currentUser.phone}\n\nüìù **Xabar:** ${feedback}`;
      await sendToBot(msg);
      document.getElementById('userFeedback').value = '';
      alert("Fikringiz yuborildi!");
    }

    function handleAuthClick() {
      if (!currentUser) document.getElementById('loginModal').classList.remove('hidden');
      else alert(`Salom, ${currentUser.name}`);
    }

    function updateAuthUI() {
      const label = document.getElementById('navUserLabel');
      const btn = document.getElementById('userNavBtn');
      if (currentUser) {
        label.innerText = currentUser.name;
        btn.style.display = 'flex';
      } else {
        btn.style.display = 'none';
      }
    }

    window.onload = () => {
      const savedLang = localStorage.getItem('m_lang') || 'uz';
      currentLang = savedLang;
      updateLanguage();
      if (!currentUser) document.getElementById('loginModal').classList.remove('hidden');
      updateAuthUI();
      // Generate 110 additional products dynamically (IDs start after existing ones)
      generateProducts(10, 8);
      // Wire category buttons after products generated
      setupCategoryFilters();
    };

    function saveUser() {
      const name = document.getElementById('userName').value.trim();
      const phone = document.getElementById('userPhone').value.trim();
      if (name && phone) {
        currentUser = { name, phone };
        localStorage.setItem('m_user', JSON.stringify(currentUser));
        document.getElementById('loginModal').classList.add('hidden');
        updateAuthUI();
        sendToBot(`üë§ **Yangi foydalanuvchi:**\n\nIsm: ${name}\nTel: ${phone}`);
      }
    }

    function openModal(modalId, contentId) {
      document.getElementById(modalId).classList.remove('hidden');
      setTimeout(() => document.getElementById(contentId).classList.add('modal-show'), 10);
      if (modalId === 'cartModal') renderCart();
    }

    function closeModal(modalId, contentId) {
      document.getElementById(contentId).classList.remove('modal-show');
      setTimeout(() => document.getElementById(modalId).classList.add('hidden'), 300);
    }

    function showDetails(id) {
      const prod = document.querySelector(`.product[data-id="${id}"]`);
      document.getElementById('detailImg').src = prod.querySelector('img').src;
      document.getElementById('detailName').innerText = prod.querySelector('.product-name').innerText;
      document.getElementById('detailPrice').innerText = prod.querySelector('.text-yellow-500').innerText;
      document.getElementById('detailAddToCart').onclick = () => { addToCart(id); closeModal('detailModal', 'detailContent'); };
      openModal('detailModal', 'detailContent');
    }

    function addToCart(id) {
      const product = document.querySelector(`.product[data-id="${id}"]`);
      const name = product.querySelector('.product-name').innerText;
      const price = parseInt(product.getAttribute('data-price'));
      const img = product.querySelector('img').src;
      cart.push({ id, name, price, img });
      updateUI();
      const t = translations[currentLang];
      alert(name + " " + t.added);
    }

    // BUYURTMANI VA RASM LINKINI TELEGRAMGA YUBORISH
    async function handleCartAction() {
      const btn = document.getElementById('cartActionButton');
      const t = translations[currentLang];
      if (!currentUser) return document.getElementById('loginModal').classList.remove('hidden');

      if (!isOrderStep) {
        isOrderStep = true;
        btn.innerText = t.register;
        btn.className = "w-full bg-green-500 text-white py-4 rounded-2xl mt-8 font-bold active-scale";
      } else {
        let items = "";
        let total = 0;
        cart.forEach((item, i) => {
          // Mahsulot nomi va rasm linki qo'shildi
          items += `${i + 1}. ${item.name}\nüñº Rasm: ${item.img}\nüí∞ Narx: ${item.price.toLocaleString()} so'm\n\n`;
          total += item.price;
        });

        const msg = `üõç **YANGI BUYURTMA**\n\nüë§ **Xaridor:** ${currentUser.name}\nüìû **Tel:** ${currentUser.phone}\n\nüì¶ **Mahsulotlar:**\n${items}üí∞ **Jami:** ${total.toLocaleString()} so'm`;

        await sendToBot(msg);
        alert(t.success);
        cart = [];
        isOrderStep = false;
        updateUI();
        closeModal('cartModal', 'cartContent');
      }
    }

    function renderCart() {
      isOrderStep = false;
      const btn = document.getElementById('cartActionButton');
      const t = translations[currentLang];
      btn.innerText = t.order;
      btn.className = "w-full bg-yellow-500 text-black py-4 rounded-2xl mt-8 font-bold active-scale";
      const list = document.getElementById('cartList');
      if (cart.length === 0) {
        const emptyMsg = currentLang === 'uz' ? 'Savat bo\'sh' : '–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞';
        list.innerHTML = `<p class="text-center py-10 text-gray-500">${emptyMsg}</p>`;
        document.getElementById('cartTotal').classList.add('hidden');
        btn.classList.add('hidden');
        return;
      }
      btn.classList.remove('hidden');
      list.innerHTML = '';
      let total = 0;
      cart.forEach((item, index) => {
        total += item.price;
        list.innerHTML += `
            <div class="flex items-center gap-4 bg-gray-800 p-3 rounded-2xl border border-white/5">
                <img src="${item.img}" class="w-12 h-12 rounded-lg object-cover">
                <div class="flex-1 text-sm font-bold text-white">${item.name}</div>
                <div class="text-yellow-500 text-xs">${item.price.toLocaleString()}</div>
                <button onclick="cart.splice(${index},1); renderCart(); updateUI();" class="text-red-500 px-2">‚úï</button>
            </div>`;
      });
      document.getElementById('totalPrice').innerText = total.toLocaleString();
      document.getElementById('cartTotal').classList.remove('hidden');
    }

    // Dynamically generate product cards to scale the catalog
    function generateProducts(count = 100, startId = 8) {
      const grid = document.getElementById('productGrid');
      const categories = ['Kiyimlar', 'Elektronika', 'Aksesuar', 'Kitob', 'Butlovchi'];
      let html = '';
      for (let i = 0; i < count; i++) {
        const id = startId + i;
        const category = categories[i % categories.length];
        const price = Math.floor(Math.random() * 140000) + 5000; // 5k-145k
        const name = `Mahsulot #${id}`;
        const img = `https://images.unsplash.com/photo-1512436991641-6745cdb1723f?w=400&auto=format&fit=crop&ixlib=rb-4.0.3&sat=${id}`;

        html += `
        <div class="product flex flex-col bg-gray-800/50 border border-white/5 p-2 rounded-2xl relative" data-id="${id}" data-category="${category}" data-price="${price}">
          <button onclick="toggleFav(${id})" class="absolute top-4 right-4 z-10 p-1.5 bg-black/40 backdrop-blur-md rounded-full">
            <svg id="fav-icon-${id}" class="h-4 w-4 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/></svg>
          </button>
          <img class="w-full h-32 rounded-xl object-cover" src="${img}">
          <p class="product-name mt-2 px-1 text-[13px] font-medium truncate">${name}</p>
          <p class="px-1 text-yellow-500 font-bold text-sm">${price.toLocaleString()} so'm</p>
          <div class="mt-3 space-y-1.5">
            <button onclick="addToCart(${id})" class="w-full bg-white text-black py-2 rounded-lg text-[11px] font-bold active-scale lang-toCart">Savatga</button>
            <button onclick="showDetails(${id})" class="w-full bg-gray-700 text-white py-2 rounded-lg text-[11px] font-bold active-scale lang-details">Batafsil</button>
          </div>
        </div>`;
      }
      grid.insertAdjacentHTML('beforeend', html);
      // Update UI counts in case any favorites/cart logic needs it
      updateUI();
    }

    function updateUI() {
      document.getElementById('cartCount').innerText = cart.length;
      cart.length > 0 ? document.getElementById('cartCount').classList.remove('hidden') : document.getElementById('cartCount').classList.add('hidden');
      document.getElementById('favCount').innerText = favorites.length;
      favorites.length > 0 ? document.getElementById('favCount').classList.remove('hidden') : document.getElementById('favCount').classList.add('hidden');
    }

    function toggleFav(id) {
      const icon = document.getElementById(`fav-icon-${id}`);
      if (favorites.includes(id)) {
        favorites = favorites.filter(i => i !== id);
        icon.classList.remove('fav-active');
        icon.setAttribute('fill', 'none');
      } else {
        favorites.push(id);
        icon.classList.add('fav-active');
        icon.setAttribute('fill', 'currentColor');
      }
      updateUI();
    }

    document.getElementById('searchInput').oninput = (e) => {
      const q = e.target.value.toLowerCase();
      document.querySelectorAll('.product').forEach(p => {
        const name = p.querySelector('.product-name').innerText.toLowerCase();
        p.style.display = name.includes(q) ? 'flex' : 'none';
      });
    };

    // Category buttons: filter products and mark active button
    function setupCategoryFilters() {
      document.querySelectorAll('.category').forEach(btn => {
        btn.onclick = () => {
          document.querySelectorAll('.category').forEach(b => {
            b.classList.remove('bg-yellow-500', 'text-black', 'font-bold');
            b.classList.add('bg-white/10');
          });
          btn.classList.remove('bg-white/10');
          btn.classList.add('bg-yellow-500', 'text-black', 'font-bold');

          const c = btn.getAttribute('data-category');
          document.querySelectorAll('.product').forEach(p => {
            p.style.display = (c === 'all' || p.getAttribute('data-category') === c) ? 'flex' : 'none';
          });
        };
      });
    }

    // Language switching and UI translation
    function setLanguage(lang) {
      currentLang = lang;
      updateLanguage();
      localStorage.setItem('m_lang', currentLang);
      updateLanguageButtons();
    }

    function updateLanguageButtons() {
      const uzBtn = document.getElementById('langBtnUz');
      const ruBtn = document.getElementById('langBtnRu');
      if (currentLang === 'uz') {
        uzBtn.className = 'px-3 py-1 bg-yellow-500 text-black rounded-lg text-[12px] font-bold active-scale';
        ruBtn.className = 'px-3 py-1 bg-white/10 text-white rounded-lg text-[12px] font-bold active-scale hover:bg-yellow-500 hover:text-black';
      } else {
        uzBtn.className = 'px-3 py-1 bg-white/10 text-white rounded-lg text-[12px] font-bold active-scale hover:bg-yellow-500 hover:text-black';
        ruBtn.className = 'px-3 py-1 bg-yellow-500 text-black rounded-lg text-[12px] font-bold active-scale';
      }
    }

    function updateLanguage() {
      const t = translations[currentLang];
      
      // Update logo
      document.getElementById('mainLogo').innerText = t.logo;
      
      // Update login button
      const navUserLabel = document.getElementById('navUserLabel');
      if (!currentUser) navUserLabel.innerText = t.login;
      
      // Update all elements with language classes
      document.querySelectorAll('.lang-katalog').forEach(el => el.innerText = t.katalog);
      document.querySelectorAll('.lang-orders').forEach(el => el.innerText = t.orders);
      document.querySelectorAll('.lang-favorites').forEach(el => el.innerText = t.favorites);
      document.querySelectorAll('.lang-cartTitle').forEach(el => el.innerText = t.cartTitle);
      document.querySelectorAll('.lang-toCart').forEach(el => el.innerText = t.toCart);
      document.querySelectorAll('.lang-details').forEach(el => el.innerText = t.details);
      document.querySelectorAll('.lang-total').forEach(el => el.innerText = t.total);
      document.querySelectorAll('.lang-order').forEach(el => el.innerText = t.order);
      
      // Update login modal texts
      const welcomeTitle = document.querySelector('#loginModal .lang-welcome');
      if (welcomeTitle) welcomeTitle.innerText = t.welcome;
      const registerDesc = document.querySelector('#loginModal .lang-register_form');
      if (registerDesc) registerDesc.innerText = t.register_form;
      const nameInput = document.getElementById('userName');
      if (nameInput) nameInput.placeholder = t.name;
      const phoneInput = document.getElementById('userPhone');
      if (phoneInput) phoneInput.placeholder = t.phone;
      const enterBtn = document.querySelector('#loginModal .lang-enter');
      if (enterBtn) enterBtn.innerText = t.enter;
      
      // Update search placeholder
      const searchInput = document.getElementById('searchInput');
      searchInput.placeholder = t.search;
      
      // Update all category buttons
      document.querySelectorAll('.category').forEach(btn => {
        const cat = btn.getAttribute('data-category');
        if (cat === 'all') btn.innerText = t.all;
      });
    }

    // Initialize language on load
    window.addEventListener('DOMContentLoaded', () => {
      const savedLang = localStorage.getItem('m_lang') || 'uz';
      currentLang = savedLang;
      updateLanguage();
      updateLanguageButtons();
    });

  </script>
</body>

</html>